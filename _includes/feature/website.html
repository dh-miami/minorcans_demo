{%- comment -%}
Embed an external website via iframe on an item page.

Usage:
{% include feature/website.html objectid="your_item_id" %}

Options:
- objectid (required): ID of the item in the collection
- caption (optional): override the default title-based caption
- height (optional): set iframe height (default: 600)
- width (optional): set iframe width % (default: 100)
{%- endcomment -%}

{%- assign item = site.data[site.metadata] | where: "objectid", include.objectid | first -%}
{%- assign website_url = item.website -%}

{%- if website_url -%}
<div class="text-center my-4">
    <figure class="mx-auto">
        <iframe src="{{ website_url }}" width="{{ include.width | default: '100%' }}"
            height="{{ include.height | default: '600' }}" style="border: 1px solid #ccc;"
            title="Embedded site for {{ item.title | escape }}">
        </iframe>
        {% unless include.caption == false %}
        <figcaption class="figure-caption mt-2">
            {% if include.caption %}
            {{ include.caption }}
            {% else %}
            <a href="{{ website_url }}" target="_blank" rel="noopener">{{ item.title }}</a>
            {% endif %}
        </figcaption>
        {% endunless %}
    </figure>
</div>
{%- else -%}
<p><strong>Note:</strong> No website URL found for this item.</p>
{%- endif -%}